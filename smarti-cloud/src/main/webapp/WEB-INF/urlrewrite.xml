<?xml version="1.0" encoding="UTF-8"?>

    <!DOCTYPE urlrewrite
        PUBLIC "-//tuckey.org//DTD UrlRewrite 4.0//EN"
        "http://www.tuckey.org/res/dtds/urlrewrite4.0.dtd">

    <urlrewrite>
        <rule>
           <from>^localhost:8888/(.*)$</from>
           <to type="proxy">http://127.0.0.1:8888/$1</to>
        </rule>
        <rule>
           <from>^(.+)\.dajana\.ca/(.*)$</from>
           <to type="proxy">http://$1.dajana.ca:8888/$2</to>
        </rule>
        
        <rule>
           <from>^(.+)\.home\.dajana\.ca/(.*)$</from>
           <to type="proxy">http://$1.dajana.ca:8888/$2</to>
        </rule>
        
        <rule match-type="wildcard">
           <from>^(.+)\.dajana\.ca/resources/**</from>
           <to type="redirect">http://localhost:8888/resources/$1</to>
        </rule>

        <rule match-type="wildcard">
           <from>^(.+)\.dajana\.ca/site/viewimage**</from>
           <to type="proxy">http://localhost:8888/site/cache/viewimage$1</to>
        </rule>
        
    </urlrewrite>